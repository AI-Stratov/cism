# Cism
## Описание
### Реализация микросервиса

Этот проект реализует микросервис с использованием языка программирования Python. Сервис состоит из двух функциональных частей: реализации API и взаимодействия через шину данных.
Реализация API

API предоставляет следующие конечные точки:
- Регистрация пользователя: позволяет пользователям регистрироваться в системе.
- Аутентификация пользователя: обрабатывает аутентификацию пользователя и генерирует токены доступа.
- Список пользователей: извлекает список зарегистрированных пользователей.


### Взаимодействие с шиной данных

Микросервис взаимодействует с шиной данных с помощью доменного объекта «Задача». Каждая задача содержит номер задачи и статус.

Реализованы следующие функции:

- Каналы: создаются два канала для получения задач и предоставления ответов на них. Поддерживается приоритизация задач.
- Проверка задачи: когда задача получена, данные проверяются для обеспечения их целостности.
- Хранилище базы данных: проверенные данные задачи хранятся в базе данных PostgreSQL.
- Обработка задач: задачи проходят пошаговое изменение статуса (создано, в обработке, ответ). Методы фоновой обработки реализованы для каждого значения статуса.
- Ответ задачи: ответ на задачу включает статус задачи, идентификатор и время выполнения задачи.
- Удаление периодической задачи: Реализована периодическая задача по удалению старых сообщений из системы.
## Установка
### Требования
docker и docker-compose

### Настройка переменных окружения
Создайте .env файл на основании .env.example

## Запуск

```docker-compose up -d```

После запуска API расположен по адресу http://localhost:8000

## Тестирование
Чтобы запустить тестирование выполните команду

```docker exec -it app pytest```